<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="rental_order_view_search" model="ir.ui.view">
        <field name="name">rental.order.search.inherit.sale_renting_project</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale_renting.rental_order_view_search"/>
        <field name="arch" type="xml">
            <field name="order_line" position="after">
                <field name="project_id" groups="project.group_project_user"/>
            </field>
        </field>
    </record>

    <record id="project_embedded_action_rental_orders" model="ir.embedded.actions">
        <field name="parent_res_model">project.project</field>
        <field name="sequence">50</field>
        <field name="name">Rental Orders</field>
        <field name="parent_action_id" ref="project.act_project_project_2_project_task_all"/>
        <field name="python_method">action_view_sos</field>
        <field name="context">{"from_embedded_action": true, "is_rental_order": true}</field>
        <field name="groups_ids" eval="[(4, ref('sales_team.group_sale_salesman'))]" />
        <field name="domain">[('allow_billable', '=', True)]</field>
    </record>

    <record id="project_embedded_action_rental_orders_dashboard" model="ir.embedded.actions">
        <field name="parent_res_model">project.project</field>
        <field name="sequence">50</field>
        <field name="name">Rental Orders</field>
        <field name="parent_action_id" ref="project.project_update_all_action"/>
        <field name="python_method">action_view_sos</field>
        <field name="context">{"from_embedded_action": true, "is_rental_order": true}</field>
        <field name="groups_ids" eval="[(4, ref('sales_team.group_sale_salesman'))]" />
        <field name="domain">[('allow_billable', '=', True)]</field>
    </record>
</odoo>
