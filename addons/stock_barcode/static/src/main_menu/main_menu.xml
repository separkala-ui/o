<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="stock_barcode.MainMenu">
        <div class="o_home_menu_background h-100 w-100 pt-sm-3">
            <div class="o_stock_barcode_main_menu container d-flex flex-column h-100 h-sm-auto bg-view shadow">
                <header>
                    <div class="d-flex align-items-center justify-content-between my-3">
                        <a t-if="!pwaService.isScopedApp" href="#" class="o_stock_barcode_home_menu oi oi-apps me-3 text-dark"
                            t-on-click="() => this.home.toggle(true)"/>
                        <span class="fs-2 me-auto">Barcode Scanner</span>
                        <button t-if="pwaService.isScopedApp" class="btn btn-secondary" t-on-click="logout">Log out</button>
                        <a t-elif="pwaService.isSupportedOnBrowser" class="btn btn-secondary d-flex align-items-center justify-content-center" href="/scoped_app?app_id=stock_barcode&amp;path=scoped_app/barcode" target="_blank">Install</a>
                    </div>
                </header>
                <main class="flex-grow-1">
                    <div t-if="state.displayDemoMessage" class="o_barcode_demo_message alert alert-info alert-dismissible" role="status">
                        <p class="m-0">
                            <t t-out="demoMessage"/>
                        </p>
                        <button t-on-click="removeDemoMessage" type="button" class="btn-close" title="Close"/>
                    </div>
                    <div class="my-5 text-center" t-on-click="openManualBarcodeDialog">
                        <div class="o_barcode_tap_to_scan m-auto mw-50 cursor-pointer">
                            <img src="/stock_barcode/static/img/barcode.png" alt="Barcode" class="my-1"/>
                            <div class="o_stock_barcode_laser"/>
                        </div>
                        <div class="o_stock_mobile_barcode text-primary fw-bold">
                            Scan or tap
                        </div>
                    </div>
                    <ul>
                        <t t-foreach="barcodeHomeHelper" t-as="help_line" t-key="help_line_index">
                            <li><t t-out="help_line"/></li>
                        </t>
                    </ul>
                </main>
                <footer>
                    <button class="o_button_operations btn btn-block btn-primary mb-3 p-3 w-100"
                            t-on-click="() => this.actionService.doAction('stock_barcode.stock_picking_type_action_kanban')">
                        Operations
                    </button>
                    <button t-attf-class="o_button_inventory btn btn-block btn-{{this.quantCount ? 'info' : 'secondary'}} mb-3 p-3 w-100"
                            t-on-click="() => this.actionService.doAction('stock_barcode.stock_barcode_inventory_client_action')">
                        Count Inventory
                        <span t-if="this.quantCount" class="ms-2 p-1 px-2 bg-light rounded-circle text-primary" t-out="this.quantCount"/>
                    </button>
                </footer>
            </div>
        </div>
    </t>
</templates>
