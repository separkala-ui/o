<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_hr_payslip_form" model="ir.ui.view">
        <field name="name">hr.payslip.form.inherit.l10n_hk_hr_payroll</field>
        <field name="model">hr.payslip</field>
        <field name="inherit_id" ref="hr_payroll.view_hr_payslip_form"/>
        <field name="arch" type="xml">
            <field name='is_superuser' position="after">
                <field name="l10n_hk_worked_days_leaves_count" invisible="1"/>
            </field>
            <xpath expr="//page[@name='worked_days']//list/field[@name='name']" position="after">
                <field
                    name="l10n_hk_leave_id"
                    column_invisible="parent.l10n_hk_worked_days_leaves_count == 0 or parent.country_code != 'HK'"/>
            </xpath>
            <!-- # TODO: move this to hr_payroll in master -->
            <xpath expr="//field[@name='line_ids']/list" position="attributes">
                <attribute name="decoration-danger">total &lt; 0</attribute>
                <attribute name="decoration-bf">code in ['713_GROSS', 'MPF_GROSS', 'GROSS', 'NET', 'MEA', 'SBA']</attribute>
            </xpath>
            <xpath expr="//page[@name='account_info']/group/group" position="inside">
                <field name="currency_id" invisible="1"/>  <!-- Needed for the monetary field -->
                <field name="l10n_hk_average_daily_wage" invisible="country_code != 'HK'"/>
                <field name="l10n_hk_includes_eoy_pay" invisible="country_code != 'HK'"/>
            </xpath>
        </field>
    </record>
</odoo>
