<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="l10n_hk_ird_view_form" model="ir.ui.view">
        <field name="name">l10n_hk_ird.view.form</field>
        <field name="model">l10n_hk.ird</field>
        <field name="inherit_id" ref="hr_payroll.hr_payroll_declaration_mixin_view_form"/>
        <field name="mode">primary</field>
        <field name="arch" type="xml">
            <group name="first_group" position="replace">
                <group name="first_group">
                    <group name="group_start">
                        <field name="start_year" class="o_hr_narrow_field" options="{'type': 'number'}" />
                        <field name="start_month" class="o_hr_narrow_field"/>
                    </group>
                </group>
                <group string="Extra" name="extra_group">
                    <field name="type_of_form" />
                    <field name="submission_date" />
                    <field name="year_of_employer_return" placeholder="YYYY" required="type_of_form == 'O'"/>
                    <field name="name_of_signer" />
                    <field name="designation_of_signer" />
                </group>
                <div name="div_xml" class="mt-3" invisible="state not in ['waiting', 'done']">
                    <h2>Generation Complete</h2>
                    <p invisible="not xml_file" class="oe_inline">
                        Download the <p name="xml_name"/> XML file: <field name="xml_file" readonly="1" filename="xml_filename"/>
                        <field name="xml_validation_state" class="ms-2 mb-0" widget="state_selection" nolabel="1"/>
                        <field name="error_message" invisible="xml_validation_state != 'invalid'" nolabel="1"/>
                    </p>
                </div>
                <div class="mt-3" invisible="not pdf_error" >
                    <p class="oe_inline">
                        <field name="pdf_error" readonly="1" nolabel="1"/>
                    </p>
                </div>
            </group>
            <p name="save_warning" position="attributes">
                <attribute name="invisible">state != 'done'</attribute>
            </p>
        </field>
    </record>

    <record id="l10n_hk_ird_view_list" model="ir.ui.view">
        <field name="name">l10n_hk.ird.view.list</field>
        <field name="model">l10n_hk.ird</field>
        <field name="inherit_id" ref="hr_payroll.hr_payroll_declaration_mixin_view_list"/>
        <field name="mode">primary</field>
        <field name="arch" type="xml">
            <field name="year" position="replace">
                <field name="display_name" string="Name"/>
            </field>
        </field>
    </record>
</odoo>
