<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <function model="documents.document" name="_ensure_account_documents_exist"/>
        <!-- Create Vendor Bill -->
        <record id="ir_actions_server_create_vendor_bill" model="ir.actions.server" forcecreate="0">
            <field name="name">Create Vendor Bill</field>
            <field name="sequence">10</field>
            <field name="model_id" ref="documents.model_documents_document"/>
            <field name="group_ids" eval="[Command.link(ref('account.group_account_invoice'))]"/>
            <field name="state">multi</field>
            <field name="child_ids">
                <record id="ir_actions_server_create_vendor_bill_move" model="ir.actions.server">
                    <field name="name">Move Document to Taxes</field>
                    <field name="model_id" ref="documents.model_documents_document"/>
                    <field name="group_ids" eval="[Command.link(ref('base.group_user'))]"/>
                    <field name="state">object_write</field>
                    <field name="update_path">folder_id</field>
                    <field name="resource_ref" ref="documents.document_finance_taxes_folder"/>
                </record>
                <record id="ir_actions_server_create_vendor_bill_code" model="ir.actions.server">
                    <field name="name">Create Vendor Bill</field>
                    <field name="state">documents_account_record_create</field>
                    <field name="documents_account_create_model">account.move.in_invoice</field>
                    <field name="usage">documents_embedded</field>
                </record>
            </field>
        </record>

        <function model="documents.document" name="action_folder_embed_action" eval="[
            ref('documents.document_finance_folder'),
            ref('documents_account.ir_actions_server_create_vendor_bill'),
        ]"/>

        <!-- Create Vendor Credit Note -->
        <record id="ir_actions_server_create_vendor_refund" model="ir.actions.server" forcecreate="0">
            <field name="name">Create Vendor Credit Note</field>
            <field name="sequence">20</field>
            <field name="model_id" ref="documents.model_documents_document"/>
            <field name="group_ids" eval="[Command.link(ref('account.group_account_invoice'))]"/>
            <field name="state">multi</field>
            <field name="child_ids">
                <record id="ir_actions_server_create_vendor_refund_move" model="ir.actions.server">
                    <field name="name">Move Document to Taxes</field>
                    <field name="model_id" ref="documents.model_documents_document"/>
                    <field name="group_ids" eval="[Command.link(ref('base.group_user'))]"/>
                    <field name="state">object_write</field>
                    <field name="update_path">folder_id</field>
                    <field name="resource_ref" ref="documents.document_finance_taxes_folder"/>
                </record>
                <record id="ir_actions_server_create_vendor_refund_code" model="ir.actions.server">
                    <field name="name">Create Vendor Credit Note</field>
                    <field name="state">documents_account_record_create</field>
                    <field name="documents_account_create_model">account.move.in_refund</field>
                    <field name="usage">documents_embedded</field>
                </record>
            </field>
        </record>

        <function model="documents.document" name="action_folder_embed_action" eval="[
            ref('documents.document_finance_folder'),
            ref('documents_account.ir_actions_server_create_vendor_refund'),
        ]"/>

        <!-- Create Customer Invoice -->
        <record id="ir_actions_server_create_customer_invoice" model="ir.actions.server" forcecreate="0">
            <field name="name">Create Customer Invoice</field>
            <field name="sequence">30</field>
            <field name="model_id" ref="documents.model_documents_document"/>
            <field name="group_ids" eval="[Command.link(ref('account.group_account_invoice'))]"/>
            <field name="state">multi</field>
            <field name="child_ids">
                <record id="ir_actions_server_create_customer_invoice_move" model="ir.actions.server">
                    <field name="name">Move Document to Taxes</field>
                    <field name="model_id" ref="documents.model_documents_document"/>
                    <field name="group_ids" eval="[Command.link(ref('base.group_user'))]"/>
                    <field name="state">object_write</field>
                    <field name="update_path">folder_id</field>
                    <field name="resource_ref" ref="documents.document_finance_taxes_folder"/>
                </record>
                <record id="ir_actions_server_create_customer_invoice_code" model="ir.actions.server">
                    <field name="name">Create Customer Invoice</field>
                    <field name="state">documents_account_record_create</field>
                    <field name="documents_account_create_model">account.move.out_invoice</field>
                    <field name="usage">documents_embedded</field>
                </record>
            </field>
        </record>

        <function model="documents.document" name="action_folder_embed_action" eval="[
            ref('documents.document_finance_folder'),
            ref('documents_account.ir_actions_server_create_customer_invoice'),
        ]"/>

        <!-- Create Customer Credit Note -->
        <record id="ir_actions_server_create_credit_note" model="ir.actions.server" forcecreate="0">
            <field name="name">Create Customer Credit Note</field>
            <field name="sequence">40</field>
            <field name="model_id" ref="documents.model_documents_document"/>
            <field name="group_ids" eval="[Command.link(ref('account.group_account_invoice'))]"/>
            <field name="state">multi</field>
            <field name="child_ids">
                <record id="ir_actions_server_create_credit_note_move" model="ir.actions.server">
                    <field name="name">Move Document To Taxes</field>
                    <field name="model_id" ref="documents.model_documents_document"/>
                    <field name="group_ids" eval="[Command.link(ref('base.group_user'))]"/>
                    <field name="state">object_write</field>
                    <field name="update_path">folder_id</field>
                    <field name="resource_ref" ref="documents.document_finance_taxes_folder"/>
                </record>
                <record id="ir_actions_server_create_credit_note_code" model="ir.actions.server">
                    <field name="name">Create Credit Note</field>
                    <field name="state">documents_account_record_create</field>
                    <field name="documents_account_create_model">account.move.out_refund</field>
                    <field name="usage">documents_embedded</field>
                </record>
            </field>
        </record>

        <function model="documents.document" name="action_folder_embed_action" eval="[
            ref('documents.document_finance_folder'),
            ref('documents_account.ir_actions_server_create_credit_note'),
        ]"/>

        <!-- Create Vendor Receipt -->
        <record id="ir_actions_server_create_vendor_receipt" model="ir.actions.server" forcecreate="0">
            <field name="name">Create Vendor Receipt</field>
            <field name="sequence">50</field>
            <field name="model_id" ref="documents.model_documents_document"/>
            <field name="state">documents_account_record_create</field>
            <field name="documents_account_create_model">account.move.in_receipt</field>
            <field name="group_ids" eval="[Command.link(ref('account.group_account_invoice'))]"/>
            <field name="usage">documents_embedded</field>
        </record>

        <function model="documents.document" name="action_folder_embed_action" eval="[
            ref('documents.document_finance_folder'),
            ref('documents_account.ir_actions_server_create_vendor_receipt'),
        ]"/>

        <!-- Create Misc Entry -->
        <record id="ir_actions_server_create_misc_entry" model="ir.actions.server" forcecreate="0">
            <field name="name">Create Misc Entry</field>
            <field name="sequence">60</field>
            <field name="model_id" ref="documents.model_documents_document"/>
            <field name="group_ids" eval="[Command.link(ref('account.group_account_invoice'))]"/>
            <field name="state">multi</field>
            <field name="child_ids">
                <record id="ir_actions_server_create_misc_entry_move" model="ir.actions.server">
                    <field name="name">Move Documents to Annual Closing</field>
                    <field name="model_id" ref="documents.model_documents_document"/>
                    <field name="group_ids" eval="[Command.link(ref('base.group_user'))]"/>
                    <field name="state">object_write</field>
                    <field name="update_path">folder_id</field>
                    <field name="resource_ref" ref="documents.document_finance_annual_closing_year_current_folder"/>
                </record>
                <record id="ir_actions_server_create_misc_entry_code" model="ir.actions.server">
                    <field name="name">Create Misc Entry</field>
                    <field name="state">documents_account_record_create</field>
                    <field name="documents_account_create_model">account.move.entry</field>
                    <field name="usage">documents_embedded</field>
                </record>
            </field>
        </record>

        <function model="documents.document" name="action_folder_embed_action" eval="[
            ref('documents.document_finance_folder'),
            ref('documents_account.ir_actions_server_create_misc_entry'),
        ]"/>

        <!-- Import Bank Statement -->
        <record id="ir_actions_server_bank_statement" model="ir.actions.server" forcecreate="0">
            <field name="name">Import Bank Statement</field>
            <field name="sequence">70</field>
            <field name="model_id" ref="documents.model_documents_document"/>
            <field name="group_ids" eval="[Command.link(ref('account.group_account_invoice'))]"/>
            <field name="state">multi</field>
            <field name="child_ids">
                <record id="ir_actions_server_bank_statement_move" model="ir.actions.server">
                    <field name="name">Move to Annual Closing</field>
                    <field name="model_id" ref="documents.model_documents_document"/>
                    <field name="group_ids" eval="[Command.link(ref('base.group_user'))]"/>
                    <field name="state">object_write</field>
                    <field name="update_path">folder_id</field>
                    <field name="resource_ref" ref="documents.document_finance_annual_closing_year_current_folder"/>
                </record>
                <record id="ir_actions_server_bank_statement_code" model="ir.actions.server">
                    <field name="name">Import Bank Statement</field>
                    <field name="state">documents_account_record_create</field>
                    <field name="documents_account_create_model">account.bank.statement</field>
                    <field name="usage">documents_embedded</field>
                </record>
            </field>
        </record>

        <function model="documents.document" name="_data_embed_if_records_exist" eval="[
            'documents.document_finance_folder',
            'documents_account.ir_actions_server_bank_statement',
        ]"/>
    </data>
</odoo>
