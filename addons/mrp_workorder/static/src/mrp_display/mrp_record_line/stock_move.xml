<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="mrp_workorder.StockMove">
        <li class="o_mrp_record_line list-group-item d-flex justify-content-between align-items-center gap-3 cursor-pointer border-0"
            t-on-click="onClick">
            <span class="o_line_label text-wrap text-break" t-att-class="isComplete ? 'text-decoration-line-through opacity-25' : ''" t-out="label"/>
            <div class="d-flex align-items-center gap-1 mb-auto text-nowrap">
                <span class="o_line_value d-flex flex-column align-items-end me-1 fw-bold lh-sm" t-att-class="{
                    'text-danger': quantityDone > toConsumeQuantity
                }">
                    <span class="o_mrp_record_line_qty">
                        <t t-if="(quantityDone || isComplete) &amp;&amp; quantityDone !== toConsumeQuantity"
                           t-out="quantityDone + ' / '"/>
                        <t t-out="toConsumeQuantity"/>
                    </span>
                    <span class="o_mrp_record_line_uom ms-1 small fw-normal"
                          t-att-class="{'text-muted': !(quantityDone > toConsumeQuantity)}"
                          t-esc="uom"/>
                </span>
                <button t-if="hasInstruction" t-on-click.stop="showWorksheet" class="o_btn_icon btn btn-outline-secondary">
                        <i class="fa fa-info" role="img"/>
                </button>
                <button class="o_btn_icon btn" t-attf-class="{{props.isCurrent ? 'btn-primary' : 'btn-outline-secondary'}}">
                    <i t-attf-class="fa fa-{{icon}}" role="img"/>
                </button>
            </div>
        </li>
        <li t-foreach="visibleMoveLines" t-as="line" t-key="line.resId" t-on-click="() => this.editQuantity(line)"
            class="o_mrp_record_line o_mrp_record_line_indented list-group-item position-relative d-flex justify-content-between align-items-center gap-3 border-0 cursor-pointer">
            <span class="o_line_label ms-3 text-wrap text-break" t-att-class="{'text-muted': quantityDone >= toConsumeQuantity}">
                <t t-if="!byproduct &amp;&amp; line.data.location_id" t-out="line.data.location_id.display_name"/>
                <t t-if="!byproduct &amp;&amp; line.data.location_id &amp;&amp; line.data.lot_id"> / </t>
                <t t-if="line.data.lot_id" t-out="line.data.lot_id.display_name"/>
            </span>
            <div class="d-flex align-items-center gap-1 mb-auto text-nowrap">
                <span class="o_line_value d-flex flex-column align-items-end me-1 fw-bold lh-sm">
                    <span class="o_mrp_record_line_qty" t-out="line.data.quantity"/>
                    <span class="o_mrp_record_line_uom small fw-normal text-muted" t-esc="uom"/>
                </span>
                <button class="o_btn_icon btn btn-outline-secondary">
                    <i class="fa fa-pencil" role="img"/>
                </button>
            </div>
        </li>
    </t>
</templates>
