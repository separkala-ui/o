<?xml version="1.0" encoding="utf-8"?>
<templates>
    <t t-inherit="knowledge.PermissionPanel" t-inherit-mode="extension">
        <xpath expr="//div[hasclass('knowledge_restriction_message')]" position="before">
            <div t-if="state.isArticleLoaded" class="d-flex py-1" t-att-class="{ 'cursor-pointer': userIsInternalEditor }" t-on-click="onWebsitePublishedClick">
                <i class="fa fa-globe fa-2x ms-1 mt-2"/>
                <div class="ps-3 flex-grow-1 min-w-0">
                    <div class="d-flex">
                        <div class="knowledge_published_status_message flex-grow-1 lead fw-bold">
                            <t t-if="data.website_published">Article shared to web</t>
                            <t t-elif="userIsInternalEditor">Share to web</t>
                            <t t-else="">Article not Published</t>
                        </div>
                        <div t-if="userIsInternalEditor" class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" t-att-checked="data.website_published"/>
                        </div>
                    </div>
                    <div class="text-muted">
                        <t t-if="data.website_published">This article and its sub-articles are public</t>
                        <t t-elif="userIsInternalEditor">Publish this article and its sub-articles</t>
                        <t t-else="">Only specific people can access</t>
                    </div>
                    <div class="d-flex" t-if="data.website_published">
                        <CopyButton copyText.translate="Copy Link" content="data.article_url" icon="'d-none'" successText.translate="Article link copied" className="'btn-link p-0'"/>
                    </div>
                </div>
            </div>
            <hr class="mx-n3 my-2" t-if="state.isArticleLoaded"/>
        </xpath>
    </t>
</templates>
