<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="hr_employee_view_form" model="ir.ui.view">
        <field name="name">hr.employee.view.form.inherit.l10n.lu.hr.payroll</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr_payroll.payroll_hr_employee_view_form"/>
        <field name="arch" type="xml">
            <page name="payroll_information" position="after">
                <page name="l10n_lu_tax_withholding_form" string="Tax Withholding Form"
                      invisible="company_country_code != 'LU'" groups="hr_payroll.group_hr_payroll_user">
                    <group>
                        <group name="l10n_lu_tax_information_group" string="Tax Information">
                            <field name="l10n_lu_tax_id_number"/>
                            <field name="l10n_lu_tax_classification" required="company_country_code == 'LU'"/>
                            <label for="l10n_lu_tax_rate_no_classification" class="oe_inline"
                                   invisible="l10n_lu_tax_classification != 'without'"/>
                            <div class="d-flex" invisible="l10n_lu_tax_classification != 'without'">
                                <field name="l10n_lu_tax_rate_no_classification" class="w-25"
                                       invisible="l10n_lu_tax_classification != 'without'"
                                       required="company_country_code == 'LU' and l10n_lu_tax_classification == 'without'"/>
                                <span>%</span>
                            </div>
                        </group>

                        <div name="l10n_lu_tax_credit_group">
                            <separator string="Tax Credits"/>
                            <div class="alert alert-warning m-0 w-100 oe_inline" role="alert" invisible="l10n_lu_tax_id_number">
                                No tax identification number given, the employee won't receive any tax credits.
                            </div>
                            <group>
                                <field name="l10n_lu_tax_credit_cis" invisible="not l10n_lu_tax_id_number"/>
                                <field name="l10n_lu_tax_credit_cip" invisible="not l10n_lu_tax_id_number"/>
                                <field name="l10n_lu_tax_credit_cim" invisible="not l10n_lu_tax_id_number"/>
                            </group>
                        </div>

                        <div name="l10n_lu_tax_deductions_group">
                            <separator string="Tax Deductions &amp; Packages"/>
                            <div class="d-flex fw-bold mb-3">
                                <span class="w-25">Deductions</span>
                                <span class="w-25">Day</span>
                                <span class="w-25">Month</span>
                                <span class="w-25">Year</span>
                            </div>
                            <div class="d-flex">
                                <label for="l10n_lu_deduction_fd_daily" class="w-25 fw-bold"/>
                                <field name="l10n_lu_deduction_fd_daily" class="w-25"/>
                                <field name="l10n_lu_deduction_fd_monthly" class="w-25 text-muted"/>
                                <field name="l10n_lu_deduction_fd_yearly" class="w-25 text-muted"/>
                            </div>
                            <div class="d-flex">
                                <label for="l10n_lu_deduction_ac_ae_daily" class="w-25 fw-bold"/>
                                <field name="l10n_lu_deduction_ac_ae_daily" class="w-25"/>
                                <field name="l10n_lu_deduction_ac_ae_monthly" class="w-25 text-muted"/>
                                <field name="l10n_lu_deduction_ac_ae_yearly" class="w-25 text-muted"/>
                            </div>
                            <div class="d-flex">
                                <label for="l10n_lu_deduction_ce_daily" class="w-25 fw-bold"/>
                                <field name="l10n_lu_deduction_ce_daily" class="w-25"/>
                                <field name="l10n_lu_deduction_ce_monthly" class="w-25 text-muted"/>
                                <field name="l10n_lu_deduction_ce_yearly" class="w-25 text-muted"/>
                            </div>
                            <div class="d-flex">
                                <label for="l10n_lu_deduction_ds_daily" class="w-25 fw-bold"/>
                                <field name="l10n_lu_deduction_ds_daily" class="w-25"/>
                                <field name="l10n_lu_deduction_ds_monthly" class="w-25 text-muted"/>
                                <field name="l10n_lu_deduction_ds_yearly" class="w-25 text-muted"/>
                            </div>
                            <div class="d-flex">
                                <label for="l10n_lu_deduction_fo_daily" class="w-25 fw-bold"/>
                                <field name="l10n_lu_deduction_fo_daily" class="w-25"/>
                                <field name="l10n_lu_deduction_fo_monthly" class="w-25 text-muted"/>
                                <field name="l10n_lu_deduction_fo_yearly" class="w-25 text-muted"/>
                            </div>
                            <div class="d-flex mb-4">
                                <label for="l10n_lu_deduction_amd_daily" class="w-25 fw-bold"/>
                                <field name="l10n_lu_deduction_amd_daily" class="w-25"/>
                                <field name="l10n_lu_deduction_amd_monthly" class="w-25 text-muted"/>
                                <field name="l10n_lu_deduction_amd_yearly" class="w-25 text-muted"/>
                            </div>
                            <div class="d-flex fw-bold mb-3">
                                <span class="w-25">Packages</span>
                                <span class="w-25">Day</span>
                                <span class="w-25">Month</span>
                                <span class="w-25">Year</span>
                            </div>
                            <div class="d-flex">
                                <label for="l10n_lu_package_ffo_daily" class="w-25 fw-bold"/>
                                <field name="l10n_lu_package_ffo_daily" class="w-25"/>
                                <field name="l10n_lu_package_ffo_monthly" class="w-25 text-muted"/>
                                <field name="l10n_lu_package_ffo_yearly" class="w-25 text-muted"/>
                            </div>
                            <div class="d-flex">
                                <label for="l10n_lu_package_fds_daily" class="w-25 fw-bold"/>
                                <field name="l10n_lu_package_fds_daily" class="w-25"/>
                                <field name="l10n_lu_package_fds_monthly" class="w-25 text-muted"/>
                                <field name="l10n_lu_package_fds_yearly" class="w-25 text-muted"/>
                            </div>
                        </div>
                    </group>
                </page>
            </page>
            <div name="wage" position="after">
                <field name="l10n_lu_index_on_contract_signature" string="Index on Contract Signature" invisible="country_code != 'LU'"/>
                <label for="l10n_lu_indexed_wage" invisible="country_code != 'LU'"/>
                <div class="o_row" invisible="country_code != 'LU'">
                    <field name="l10n_lu_indexed_wage" string="Indexed Wage" class="o_hr_narrow_field"/>
                    <div invisible="wage_type != 'monthly'">/ month</div>
                    <div invisible="wage_type != 'hourly'">/ hour</div>
                </div>
                <field name="l10n_lu_current_index" string="Current Index" invisible="country_code != 'LU'"/>
            </div>
            <group name="payroll_group" position="inside">
                <group name="l10n_lu_bik" string="Benefits in Kind" invisible="country_code != 'LU'">
                    <label for="l10n_lu_bik_vehicle" string="Vehicle"/>
                    <div class="o_row">
                        <field name="l10n_lu_bik_vehicle" class="o_hr_narrow_field"/>
                        <span class="me-3">/ month</span>
                        <field name="l10n_lu_bik_vehicle_vat_included"/>
                        <span>VAT Included</span>
                    </div>
                    <label for="l10n_lu_bik_other_benefits"/>
                    <div class="o_row">
                        <field name="l10n_lu_bik_other_benefits" class="o_hr_narrow_field"/>
                        <span>/ month</span>
                    </div>

                    <separator string="Allowances"/>
                    <label for="l10n_lu_alw_vehicle" string="Vehicle Package"/>
                    <div class="o_row">
                        <field name="l10n_lu_alw_vehicle" class="o_hr_narrow_field"/>
                        <span>/ month</span>
                    </div>

                    <separator string="Meal Vouchers"/>
                    <label for="l10n_lu_meal_voucher_amount" string="Daily Amount"/>
                    <div class="o_row">
                        <field name="l10n_lu_meal_voucher_amount" class="o_hr_narrow_field"/>
                        <span>/ worked day</span>
                    </div>
                    <label for="l10n_lu_meal_voucher_employer_cost" string="Employer Contribution"/>
                    <div class="o_row">
                        <field name="l10n_lu_meal_voucher_employer_cost" class="o_hr_narrow_field"/>
                        <span>/ worked day</span>
                    </div>
                    <field name="l10n_lu_meal_voucher_employee_computation" string="Employee Computation" widget="radio"/>
                </group>
            </group>
        </field>
    </record>
</odoo>
