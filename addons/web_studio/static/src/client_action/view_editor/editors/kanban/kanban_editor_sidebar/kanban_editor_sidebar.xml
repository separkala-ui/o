<templates>

    <t t-name="web_studio.ViewEditor.KanbanEditorSidebar">
        <InteractiveEditorSidebar>
            <t t-set-slot="new">
                <ViewStructures structures="constructor.viewStructures" />
                <ExistingFields resModel="env.viewEditorModel.resModel" fields="env.viewEditorModel.fields" fieldsInArch="viewEditorModel.fieldsInArch" folded="false"/>
            </t>
            <t t-set-slot="view" isDefault="true">
                <Property
                    name="'create'"
                    type="'boolean'"
                    value="archInfo.activeActions.create === true"
                    onChange.bind="editAttribute"
                >
                    Can Create
                </Property>
                <Property
                    name="'quick_create'"
                    type="'boolean'"
                    value="archInfo.activeActions.quickCreate === true"
                    onChange.bind="editAttribute"
                >
                    Quick Create
                </Property>
                <Property
                    name="'sort_by'"
                    type="'selection'"
                    value="defaultOrder.name or null"
                    onChange.bind="setSortBy"
                    childProps="{ choices: sortChoices, required: false }"
                >
                    Sort By
                </Property>
                <Property
                    t-if="defaultOrder.name"
                    name="'sort_order'"
                    type="'selection'"
                    value="defaultOrder.asc ? 'asc' : 'desc'"
                    onChange.bind="setOrder"
                    childProps="{ choices: orderChoices }"
                >
                    Order
                </Property>
                <t t-call="web_studio.ViewEditor.ShowInvisibleToggler" />
                <Property
                    name="'can_open'"
                    type="'boolean'"
                    value="archInfo.canOpenRecords !== false"
                    onChange.bind="editAttribute"
                >
                    Open Record On Click
                </Property>
                <Property
                    name="'highlight_color'"
                    type="'selection'"
                    value="archInfo.cardColorField or null"
                    childProps="colorField"
                    onChange.bind="editColor"
                >
                    Highlight Color Field
                </Property>
                <Property
                    name="'default_group_by'"
                    type="'selection'"
                    value="viewEditorModel.studioViewProps.defaultGroupBy.length and viewEditorModel.studioViewProps.defaultGroupBy[0]"
                    childProps="defaultGroupBy"
                    onChange.bind="editDefaultGroupBy"
                >
                    Default Group By
                </Property>
                <t t-if="canCustomFoldField">
                    <Property
                        name="'group_expand'"
                        type="'boolean'"
                        value="state.groupByField.group_expand"
                        onChange.bind="editGroupExpand"
                    >
                        Expand Groups
                    </Property>
                </t>
                <t t-if="canCustomFoldField and state.groupByField.group_expand and state.fieldsForFold.length">
                    <Property
                        name="'fold_name'"
                        type="'selection'"
                        value="state.foldField.fold_name and state.foldField.fold_name or null"
                        childProps="foldFields"
                        onChange.bind="editFoldField"
                    >
                        Fold By
                    </Property>
                </t>
                <SidebarViewToolbox onMore="props.openViewInForm" canEditXml="!env.viewEditorModel.isEditingSubview" openDefaultValues="props.openDefaultValues" />
            </t>
            <t t-set-slot="properties">
                <Properties propertiesComponents="propertiesComponents"/>
            </t>
        </InteractiveEditorSidebar>
    </t>

</templates>
