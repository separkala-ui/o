<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

<t t-name="web_studio.StudioDynamicPlaceholderPopover">
    <div style="width: 15rem;"
        class="o-web-studio-report-dynamic-placeholder-popover d-flex flex-column flex-wrap gap-3 py-2 border border-black shadow">

        <i class="btn btn-link position-absolute top-0 end-0 fa fa-times text-dark" data-tooltip="Close" role="img" aria-label="Close" title="Close" t-on-click="() => this.props.close()"/>

        <div class="px-2" t-if="!!env.debug">
            <span class="fw-bolder d-block"  for="o_studio_report_field_model">Model</span>
            <span t-out="currentModel.name" /> (<span t-out="currentModel.model" />)
        </div>

        <div class="d-flex flex-column px-2 text-break">
            <span class="fw-bolder">Field</span>
            <ModelFieldSelector
                readonly="false"
                filter.bind="filter"
                followRelations="!props.showOnlyX2ManyFields"
                isDebugMode="!!env.debug"
                path="state.path"
                resModel="currentResModel"
                readProperty="true"
                showSearchInput="true"
                update.bind="setPath"
                showDebugInput="false"
            />
            </div>
        <div t-if="env.debug and state.path" class="d-flex flex-column px-2 text-break">
            <span class="d-block fw-bolder">Technical name</span>
            <code t-esc="state.path" />
        </div>
        <div class="d-flex flex-column px-2 fw-bolder" t-if="!this.props.showOnlyX2ManyFields">
            <span class="d-block">
                Label<sup class="text-info" data-tooltip="Only visible during the edition of the report" style="cursor: help;">?</sup>
            </span>
            <input t-att-value="labelValueInput" name="label_value" t-on-input="onLabelInput" class="o_input" type="text"/>
        </div>
        <div class="d-flex flex-row px-2 justify-content-end gap-2 mt-auto">
            <button class="btn btn-primary" t-att-disabled="!state.path" t-on-click="validate">
                <t t-if="props.initialPath">Update</t>
                <t t-else="">Insert</t>
            </button>
            <button class="btn btn-secondary" t-on-click="() => this.props.close()">Cancel</button>
        </div>
    </div>
</t>

</templates>
